(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(143)},111:function(e,t,a){},141:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),c=a.n(r),l=(a(111),a(12)),i=a(41),s=a(25),u=a.n(s),m=a(36),p=a(13),d=a(190),f=a(187),g=a(212),E=a(96),h=a(185),b=a(53),v=a(87),y=a(35),S=a(18),O=a.n(S),w=function(e){e?O.a.defaults.headers.common.Authorization=e:delete O.a.defaults.headers.common.Authorization},C=function(e){return{type:"SET_CURRENT_USER",payload:e}},x=function(){return function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),document.cookie="userId=",document.cookie="token=",w(!1),e(C({}))}},N=Object(v.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random/1920x1080)",backgroundRepeat:"no-repeat",backgroundColor:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},container:{display:"flex",alignItems:"center"},paper:{margin:e.spacing(8,4),flex:1},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},icon:{fontFamily:"Abril Fatface, cursive",marginBottom:e.spacing(8)}}}),j=Object(l.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){O.a.post("/auth/login",e).then(function(e){var a=e.data,n=a.token,o=a.userId;document.cookie="token=".concat(n),document.cookie="userId=".concat(o),localStorage.setItem("token",n),localStorage.setItem("userId",o),w(n),t(C(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(i.g)(function(e){var t=e.loginUser,a=e.auth,n=e.history,r=N(),c=o.a.useState(""),l=Object(p.a)(c,2),i=l[0],s=l[1],v=o.a.useState(""),S=Object(p.a)(v,2),O=S[0],w=S[1],C=function(){var e=Object(m.a)(u.a.mark(function e(a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t({username:i,password:O});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return a.isAuthenticated&&n.push("/feed"),o.a.createElement(h.a,{container:!0,component:"main",className:r.root},o.a.createElement(f.a,null),o.a.createElement(h.a,{item:!0,xs:!1,sm:4,md:8,className:r.image}),o.a.createElement(h.a,{item:!0,xs:12,sm:8,md:4,component:E.a,elevation:6,className:r.container,square:!0},o.a.createElement("div",{className:r.paper},o.a.createElement(b.a,{component:"h1",variant:"h3",className:r.icon},"basic."),o.a.createElement("form",{className:r.form,onSubmit:C,noValidate:!0},o.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:i,onChange:function(e){return s(e.target.value)}}),o.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:O,onChange:function(e){return w(e.target.value)}}),o.a.createElement(d.a,{type:"submit",variant:"contained",color:"primary",className:r.submit},"Sign In"),o.a.createElement(h.a,{container:!0,justify:"flex-start"},o.a.createElement(h.a,{item:!0},o.a.createElement(y.b,{to:"/signup",variant:"body2"},"Don't have an account? ",o.a.createElement("b",null,"Sign Up"))))))))})),k=Object(v.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random/1920x1080)",backgroundRepeat:"no-repeat",backgroundColor:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},container:{display:"flex",alignItems:"center"},paper:{margin:e.spacing(8,4),flex:1},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(4)},submit:{margin:e.spacing(3,0,2)},icon:{fontFamily:"Abril Fatface, cursive",marginBottom:e.spacing(8)}}}),T=Object(l.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){O.a.post("/auth/create-user",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(i.g)(function(e){var t=e.registerUser,a=e.history,n=e.auth,r=k(),c=o.a.useState(""),l=Object(p.a)(c,2),i=l[0],s=l[1],v=o.a.useState(""),S=Object(p.a)(v,2),O=S[0],w=S[1],C=o.a.useState(""),x=Object(p.a)(C,2),N=x[0],j=x[1],T=o.a.useState(""),U=Object(p.a)(T,2),R=U[0],P=U[1],_=function(){var e=Object(m.a)(u.a.mark(function e(n){var o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),o={username:O,password:R,name:N,email:i},console.log(o),t(o,a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return n.isAuthenticated&&a.push("/feed"),o.a.createElement(h.a,{container:!0,component:"main",className:r.root},o.a.createElement(f.a,null),o.a.createElement(h.a,{item:!0,xs:!1,sm:4,md:8,className:r.image}),o.a.createElement(h.a,{item:!0,xs:12,sm:8,md:4,component:E.a,elevation:6,className:r.container,square:!0},o.a.createElement("div",{className:r.paper},o.a.createElement(b.a,{component:"h1",variant:"h3",className:r.icon},"basic."),o.a.createElement("form",{className:r.form,onSubmit:_,noValidate:!0},o.a.createElement(h.a,{container:!0,spacing:2},o.a.createElement(h.a,{item:!0,xs:12},o.a.createElement(g.a,{autoComplete:"fname",name:"fullName",variant:"outlined",required:!0,fullWidth:!0,id:"fullName",label:"Full Name",autoFocus:!0,value:N,onChange:function(e){return j(e.target.value)}})),o.a.createElement(h.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"Username",name:"userName",autoComplete:"uname",value:O,onChange:function(e){return w(e.target.value)}})),o.a.createElement(h.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:i,onChange:function(e){return s(e.target.value)}})),o.a.createElement(h.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:R,onChange:function(e){return P(e.target.value)}}))),o.a.createElement(d.a,{type:"submit",variant:"contained",color:"primary",className:r.submit},"Sign Up"),o.a.createElement(h.a,{container:!0,justify:"flex-start"},o.a.createElement(h.a,{item:!0},o.a.createElement(y.b,{to:"/login",variant:"body2"},"Already have an account? ",o.a.createElement("b",null,"Sign in"))))))))})),U=a(67),R=Object(l.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(U.a)(e,["component","auth"]);return o.a.createElement(i.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?o.a.createElement(t,e):o.a.createElement(i.a,{to:"/login"})}}))}),P=a(205),_=a(193),B=a(194),A=a(191),I=a(192),F=a(195),D=Object(v.a)(function(e){return{toolbarTitle:{flex:1,textAlign:"center",fontFamily:"Abril Fatface, cursive"},appBar:{background:"#fff",color:"#000"}}});function G(e){var t=e.children,a=e.window,n=Object(A.a)({target:a?a():void 0});return o.a.createElement(I.a,{appear:!1,direction:"down",in:!n},t)}function W(e){var t=D();return o.a.createElement(o.a.Fragment,null,o.a.createElement(G,e,o.a.createElement(_.a,{positio:"static",className:t.appBar,elevation:0},o.a.createElement(B.a,null,e.backButton?o.a.createElement(F.a,{style:{cursor:"pointer"},onClick:e.backButton},"Back"):"",o.a.createElement(b.a,{component:"h1",variant:"h4",color:"inherit",align:"center",noWrap:!0,className:t.toolbarTitle},"basic."),o.a.createElement(F.a,{style:{cursor:"pointer"},onClick:e.onLogoutClick},"Logout")))))}var z=a(196),M=a(197),L=a(198),q=a(199),H=a(200),J=function(e,t){return function(a){var n={text:t,postId:e};return O.a.post("/basicgrams/comment/new",n).then(function(e){console.log("Succesfully added comment")}).catch(function(e){a({type:"GET_ERRORS",payload:e.response.data})})}},V=a(68),X=a.n(V),Y=Object(v.a)(function(e){return{mainGrid:{marginTop:e.spacing(2),display:"flex",justifyContent:"center"},card:{flex:1},media:{height:0,paddingTop:"100%"},commentInput:{width:"100%",border:"none",outline:"none",fontSize:"13px"},inputBox:{padding:e.spacing(2)}}}),$=Object(l.b)(function(e){return{comments:e.comments}},{addComment:J})(function(e){var t=e.addComment,a=e.post,n=e.onClickPost,r=Y(),c=o.a.useState(""),l=Object(p.a)(c,2),i=l[0],s=l[1],d=function(){var e=Object(m.a)(u.a.mark(function e(n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t(a._id,i).then(function(){return s("")});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(h.a,{item:!0,className:r.mainGrid,xs:12,md:12},o.a.createElement(z.a,{className:r.card,elevation:3},o.a.createElement(M.a,{onClick:n},o.a.createElement(L.a,null,o.a.createElement(b.a,{component:"subtitle1",variant:"subtitle1"},o.a.createElement("b",null,a.author.username))),o.a.createElement(q.a,null),o.a.createElement(H.a,{className:r.media,image:a.image,title:"Image title"}),o.a.createElement(L.a,null,o.a.createElement(b.a,{component:"subtitle2",variant:"subtitle2"},o.a.createElement("b",null,a.author.username)," ",a.caption),o.a.createElement(b.a,{component:"p",variant:"p",color:"textSecondary"},X()("".concat(a.createdAt)).startOf("second").fromNow()))),o.a.createElement(q.a,null),o.a.createElement("div",{className:r.inputBox},o.a.createElement("form",{onSubmit:d},o.a.createElement("button",{type:"submit",style:{float:"right",fontSize:"13px"}},"Post"),o.a.createElement("div",{style:{overflow:"hidden",paddingRight:"0.5em"}},o.a.createElement("input",{type:"text",placeholder:"Add a comment",className:r.commentInput,value:i,onChange:function(e){return s(e.target.value)}}))))))}),K=a(202),Q=a(206),Z=a(92),ee=a.n(Z),te=a(94),ae=a.n(te),ne=a(93),oe=a.n(ne),re=a(5),ce=a(188),le=a(204),ie=a(215),se=a(201),ue=a(203),me=a(91),pe=a.n(me),de=Object(re.a)(function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})(function(e){var t=e.children,a=e.classes,n=e.onClose,r=Object(U.a)(e,["children","classes","onClose"]);return o.a.createElement(se.a,Object.assign({disableTypography:!0,className:a.root},r),o.a.createElement(b.a,{variant:"h6"},t),n?o.a.createElement(K.a,{"aria-label":"close",className:a.closeButton,onClick:n},o.a.createElement(pe.a,null)):null)}),fe=Object(re.a)(function(e){return{root:{padding:e.spacing(2)}}})(ue.a),ge=Object(l.b)(function(e){return{posts:e.posts,newPost:e.newPost}},{uploadPost:function(e,t){return function(a){var n=new FormData;return n.append("image",t),n.append("caption",e),O.a.post("/basicgrams/new",n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){a({type:"POST_UPLOAD_SUCCESS",payload:e.newBasicgram})}).catch(function(e){a({type:"GET_ERRORS",payload:e.response.data})})}}})(function(e){var t=e.uploadPost,a=e.close,r=e.open,c=Object(n.useState)(null),l=Object(p.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(""),m=Object(p.a)(u,2),f=m[0],E=m[1],h=Object(n.useState)(""),b=Object(p.a)(h,2),v=b[0],y=b[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(ie.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:r},o.a.createElement(de,{id:"customized-dialog-title",onClose:a},"New Post"),o.a.createElement(fe,{dividers:!0},o.a.createElement("div",null,o.a.createElement("div",{style:{display:"inline"}},o.a.createElement(ce.a,{type:"file",onChange:function(e){e.preventDefault(),s(e.target.files[0]),E(URL.createObjectURL(e.target.files[0]))},accept:"image/*"}),i&&o.a.createElement(d.a,{autoFocus:!0,color:"primary",style:{float:"right"},onClick:function(e){e.preventDefault(),s(null),E("")}},"Remove File")),o.a.createElement("img",{style:{width:"100%"},src:f}),o.a.createElement(g.a,{multiline:!0,label:"Add a caption",style:{width:"100%",marginTop:"20px"},onChange:function(e){return y(e.target.value)}}))),o.a.createElement(le.a,null,o.a.createElement(d.a,{autoFocus:!0,onClick:function(e){e.preventDefault(),t(v,i).then(function(){return a()})},color:"primary"},"Upload"))))}),Ee=Object(v.a)(function(e){return{appBarBottom:{background:"#fff",color:"#000",top:"auto",bottom:0},grow:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"}}});function he(){var e=Ee(),t=o.a.useState(!1),a=Object(p.a)(t,2),n=a[0],r=a[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{position:"fixed",color:"primary",className:e.appBarBottom},o.a.createElement(P.a,{maxWidth:"sm"},o.a.createElement(B.a,null,o.a.createElement(K.a,{edge:"start",color:"inherit"},o.a.createElement(ee.a,null)),o.a.createElement(Q.a,{color:"primary","aria-label":"add",className:e.fabButton,onClick:function(){r(!0)}},o.a.createElement(oe.a,null)),n?o.a.createElement(ge,{open:n,close:function(){r(!1)}}):null,o.a.createElement("div",{className:e.grow}),o.a.createElement(K.a,{edge:"end",color:"inherit"},o.a.createElement(ae.a,null))))))}var be=Object(v.a)(function(e){return{container:{marginTop:e.spacing(10),marginBottom:e.spacing(10)}}}),ve=Object(l.b)(function(e){return{auth:e.auth,posts:e.posts}},{logoutUser:x,fetchAllPosts:function(){return function(e){return O.a.get("/basicgrams").then(function(t){console.log("successfully fetched posts",t.data),e({type:"FETCH_POSTS_SUCCESS",payload:t.data.basicgrams})}).catch(function(t){e({type:"GET_ERRORS",payload:t.response.data})})}}})(function(e){var t=e.logoutUser,a=e.history,n=e.fetchAllPosts,r=e.posts,c=be();o.a.useEffect(function(){n()},[n]);return console.log(r.posts),o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{onLogoutClick:function(e){e.preventDefault(),t()}}),o.a.createElement(P.a,{className:c.container,maxWidth:"sm"},o.a.createElement(h.a,{container:!0,spacing:3},r.posts?r.posts.map(function(e){return o.a.createElement($,{post:e,onClickPost:function(){return a.push({pathname:"/feed/post/".concat(e._id),state:{post:e}})}})}):o.a.createElement("h1",null,"No Posts Available"))),o.a.createElement(he,null))}),ye=(a(141),a(207)),Se=a(208),Oe=Object(v.a)(function(e){return{toolbarTitle:{flex:1,alignContent:"center",fontFamily:"Abril Fatface, cursive"},NameTitle:{flex:1,paddingBottom:"3rem",alignContent:"center",fontFamily:'-apple-system, system-ui, "Segoe UI"'},userNameTitle:{flex:1,paddingTop:"2rem",paddingBottom:"0.5rem",alignContent:"center",fontFamily:'-apple-system, system-ui, "Segoe UI"'},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto"},toolbarLink:{padding:e.spacing(1),flexShrink:0},mainGrid:{marginTop:e.spacing(2),display:"flex",justifyContent:"center"},container:{marginTop:e.spacing(10),marginBottom:e.spacing(10)},card:{flex:1},media:{height:0,paddingTop:"100%"},appBar:{background:"#fff",color:"#000"},appBarBottom:{background:"#fff",color:"#000",top:"auto",bottom:0},grow:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"},commentInput:{width:"100%",border:"none",outline:"none",fontSize:"13px"},inputBox:{padding:e.spacing(2)}}}),we=Object(l.b)(function(e){return{auth:e.auth,posts:e.posts}},{logoutUser:x,fetchPostsByUserId:function(e){return function(t){return O.a.get("/basicgrams/user/".concat(e)).then(function(e){t({type:"FETCH_USER_POSTS_SUCCESS",payload:e.data.basicgrams})}).catch(function(e){t({type:"GET_ERRORS",payload:e.response.data})})}}})(function(e){var t=e.logoutUser,a=e.history,n=e.posts,r=e.fetchPostsByUserId,c=Oe(),l=o.a.useState(""),i=Object(p.a)(l,2),s=i[0],u=i[1];o.a.useEffect(function(){var e=function(e){var t=RegExp(e+"[^;]+").exec(document.cookie);return decodeURIComponent(t?t.toString().replace(/^[^=]+./,""):"")}("userId");O.a.get("/user/".concat(e)).then(function(e){u(e.data.user)}).catch(function(e){console.log(e)}),r(e)},[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{onLogoutClick:function(e){e.preventDefault(),t()}}),o.a.createElement(P.a,{className:c.container,maxWidth:"md"},o.a.createElement(b.a,{component:"h2",variant:"subtitle",align:"center",noWrap:!0,className:c.userNameTitle},s.username),o.a.createElement(b.a,{component:"h5",align:"center",noWrap:!0,className:c.NameTitle},s.name),o.a.createElement(ye.a,{cellHeight:300,cols:3,spacing:20},n.posts?n.posts.map(function(e){return o.a.createElement(Se.a,{key:e._id,post:e,className:"tileStyle",onClick:function(){return a.push({pathname:"/feed/post/".concat(e._id),state:{post:e}})}},o.a.createElement("img",{src:e.image}))}):o.a.createElement("h1",null,"No Posts Available"))),o.a.createElement(he,null))}),Ce=a(214),xe=a(209),Ne=a(189),je=a(210),ke=a(211),Te=Object(v.a)(function(e){return{card:{display:"flex",height:"75vh"},cardDetails:{flex:2},cardMedia:{flex:3.5},mainGrid:{marginTop:e.spacing(10)},root:{width:"100%"},commentSection:{height:"65vh",overflowY:"auto"},commentInput:{width:"100%",border:"none",outline:"none",fontSize:"13px"}}}),Ue=Object(l.b)(function(e){return{comments:e.comments}},{fetchCommentsByPost:function(e){return function(t){return O.a.get("/basicgrams/comment/post/".concat(e)).then(function(e){t({type:"FETCH_COMMENTS_SUCCESS",payload:e.data.comments})}).catch(function(e){t({type:"GET_ERRORS",payload:e.response.data})})}},addComment:J})(function(e){var t=e.fetchCommentsByPost,a=e.addComment,n=e.comments,r=e.post,c=o.a.useState(""),l=Object(p.a)(c,2),i=l[0],s=l[1],d=Te(),f=function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(r._id,i).then(function(){return s("")});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return o.a.useEffect(function(){t(r._id)},[t]),o.a.createElement(h.a,{className:d.mainGrid},o.a.createElement(h.a,{item:!0,sm:12,md:12},o.a.createElement(z.a,{className:d.card,elevation:3},o.a.createElement(Ce.a,{xsDown:!0},o.a.createElement(H.a,{className:d.cardMedia,image:r.image})),o.a.createElement("div",{className:d.cardDetails},o.a.createElement(xe.a,{className:d.infoSection},o.a.createElement(b.a,{component:"subtitle1",variant:"subtitle1"},o.a.createElement("b",null,r.author.username))),o.a.createElement(q.a,null),o.a.createElement("div",{className:d.commentSection},o.a.createElement(Ne.a,{className:d.root},n.comments.map(function(e){return o.a.createElement(je.a,null,o.a.createElement(ke.a,{primary:o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{component:"span",variant:"body2",className:d.inline,color:"textPrimary"},o.a.createElement("b",null,e.author.username)," ",e.text)),secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{component:"span",variant:"body2",className:d.inline,color:"textSecondary"},X()("".concat(e.createdAt)).startOf("second").fromNow()))}))}))),o.a.createElement(q.a,null),o.a.createElement(xe.a,{className:d.inputSection},o.a.createElement("form",{onSubmit:f,style:{width:"100%"}},o.a.createElement("button",{type:"submit",style:{float:"right",fontSize:"13px"}},"Post"),o.a.createElement("div",{style:{overflow:"hidden",paddingRight:"0.5em"}},o.a.createElement("input",{type:"text",placeholder:"Add a comment",className:d.commentInput,value:i,onChange:function(e){return s(e.target.value)}}))))))))}),Re=Object(l.b)(function(e){return{auth:e.auth}},{logoutUser:x})(function(e){var t=e.logoutUser,a=e.history,n=e.location;return o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{onLogoutClick:function(e){e.preventDefault(),t()},backButton:function(e){e.preventDefault(),a.push("/feed")}}),o.a.createElement(P.a,{maxWidth:"md"},o.a.createElement("main",null,o.a.createElement(Ue,{post:n.state.post}))),o.a.createElement(he,null))}),Pe=Object(l.b)(function(e){return{}})(function(e){var t=e.dispatch;if(localStorage.token){var a=localStorage.token;w(a),t(C(a))}return o.a.createElement("div",{className:"App"},o.a.createElement(i.d,null,o.a.createElement(i.b,{exact:!0,path:"/",component:j}),o.a.createElement(i.b,{path:"/login",component:j}),o.a.createElement(i.b,{path:"/signup",component:T}),o.a.createElement(R,{exact:!0,path:"/feed",component:ve}),o.a.createElement(R,{exact:!0,path:"/profile",component:we}),o.a.createElement(i.b,{path:"/feed/post",component:Re})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(95),Be=a(51),Ae=a(31),Ie={posts:[],newPost:{}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS_SUCCESS":case"FETCH_USER_POSTS_SUCCESS":return Object(Ae.a)({},e,{posts:t.payload});case"POST_UPLOAD_SUCCESS":return Object(Ae.a)({},e,{newPost:t.payload});default:return e}},De={comments:[]},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COMMENTS_SUCCESS":return Object(Ae.a)({},e,{comments:t.payload});case"ADD_COMMENT":return Object(Ae.a)({},e);default:return e}},We=a(142),ze={isAuthenticated:!1,user:{},loading:!1},Me={};a.d(t,"getAllPosts",function(){return Je}),a.d(t,"getPostById",function(){return Ve});var Le=Object(Be.c)({posts:Fe,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(Ae.a)({},e,{isAuthenticated:!We(t.payload),user:t.payload});case"USER_LOADING":return Object(Ae.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},comment:Ge,comments:Ge}),qe=Object(Be.d)(Le,Object(Be.a)(_e.a)),He=new WebSocket("ws://"+window.location.host.split(":")[0]+(window.location.port&&":".concat(window.location.port))+"/websocket"),Je=function(e){return Fe.getAllPosts(e.posts)},Ve=function(e,t){return Fe.getPostById(e.posts,t)};He.onmessage=function(e){var t=JSON.parse(e.data);switch(console.log(t),t.type){case"UPDATE_FEED":console.log("UPDATE FEED");break;case"UPDATE_COMMENT":console.log("UPDATE COMMENT",t.postId);break;default:console.log("Unexpected message.")}},He.onerror=function(e){console.log(e)},c.a.render(o.a.createElement(l.a,{store:qe},o.a.createElement(y.a,null,o.a.createElement(Pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,1,2]]]);
//# sourceMappingURL=main.28331ffd.chunk.js.map